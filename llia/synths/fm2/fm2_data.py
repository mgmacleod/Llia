# llia.synths.fm2.fm2_data

from __future__ import print_function

from llia.program import Program
from llia.bank import ProgramBank
from llia.util.lmath import clip, db_to_amp
from llia.performance_edit import performance

prototype = {"amp" : 0.2,           # linear amplitude
             "port" : 0.0,          # portamento time (0..1)
             "xPitch" : 0.0,        # external signal -> pitch (0..1)
             "xModDepth" : 0.0,     # external signal -> mod depth (0..1)
             "xScale" : 1.0,        # external signal scale factor (0..4)
             "xBias" : 0.0,         # external signal bias (-4..+4)
             "lfoFreq" : 5.0,       # frequency in Hz, (0..100)
             "lfoDelay" : 0.0,      # LFO onset delay in seconds (0..4)
             "vsens" : 0.1,         # vibrato sensitivity (0..1)
             "vdepth" : 0.0,        # programmed vibrato depth (0..1)
             # OP1, carrier
             "op1Enable" : 1,       # 0 -> disable  1 -> enable
             "op1Ratio" : 1.0,      # frequency ratio  0 <= ratio <= 32
             "op1Bias" : 0.0,       # frequency bias   0 <= bias <= 20
             "op1Amp" : 1.0,        # linear amplitude (0..1)
             "op1Attack" : 0.0,     # attack time (0..12)
             "op1Decay1" : 0.0,     # initial decay time (0..12)
             "op1Decay2" : 0.0,     # seconds decay time (0..12)
             "op1Release" : 0.0,    # release time (0..12)
             "op1Breakpoint" : 1.0, # envelope breakpoint level (0..1)
             "op1Sustain" : 1.0,    # envelope sustain level (0..1)
             "op1GateHold" : 0,     # envelope gate mode, 0 -> gated, 1 -> cycle
             "op1Keybreak" : 60,    # keyscale key, MIDI key number
             "op1LeftScale" : 0,    # left keyscale depth in db/octave
             "op1RightScale" : 0,   # right keyscale depth in db/octave
             "op1Lfo" : 0.0,        # LFO -> tremolo  0.0 .. 0.5 -> 0% .. 100%
             #                 0.5 .. 1.0 -> adds 2x freq 
             "op1Velocity" : 0.0,   # velocity scale factor (0..1)
             # OP2, modulator
             "op2Enable" : 1,
             "op2Ratio" : 1.0,
             "op2Bias" : 0.0,
             "op2Amp" : 1.0,        # modulation depth (0..10)
             "op2AmpRange" : 1,     # modulation range (1,10,100,1000,10000)
             "op2Attack" : 0.0,
             "op2Decay1" : 0.0,
             "op2Decay2" : 0.0,
             "op2Release" : 0.0,
             "op2Breakpoint" : 1.0,
             "op2Sustain" : 1.0,
             "op2GateHold" : 0,
             "op2Keybreak" : 60,
             "op2LeftScale" : 0,
             "op2RightScale" : 0,
             "op2Lfo" : 0.0,
             "op2Velocity" : 0.0,
             "op2Feedback": 0,
             
             "efxMix" : 0.0,          # -1 -> flanger  +1 -> pitch-shifter
             "efxAmp" : 0.0,          # (0..1) composed with op2 amp
             "efxAttack" : 0.0,       # Combined envelope for flanger
             "efxDecay1" : 0.0,       # and pitch-shifter
             "efxDecay2" : 0.0,       
             "efxRelease" : 0.0,
             "efxBreakpoint" : 1.0,
             "efxSustain" : 1.0,
             "efxGateHold" : 0,
             "efxLfoRatio" : 1.0,     # efx LFO freq as ratio to primary LFO
             "flangerDelay" : 0.02,   # (0 .. 0.05)
             "flangerLfoDepth" : 0.0, # (0..1)
             "flangerFeedback" : 0.0, # (-1..+1)
             "psRatio" : 2.0,         # (0..4)
             "psPDispersion" : 0.0,   # (0..1)
             "psTDispersion" : 0.0,   # (0..1)
             "psLfoDepth" : 0.0 }     # (0..1) lfo -> pitch shift amp

class FM2(Program):

    def __init__(self, name):
        super(FM2, self).__init__(name, "FM2", prototype)
        self.performance = performance()

program_bank = ProgramBank(FM2("Init"))

def _fill_external_params(d):
    rs = {"xPitch" : float(d.get("pitch", 0.0)),
          "xModDepth" : float(d.get("mod", 0.0)),
          "xScale" : float(d.get("scale", 1.0)),
          "xBias" : float(d.get("bias", 0.0))}
    return rs

def _fill_lfo_params(d):
    rs = {"lfoFreq" : float(d.get("freq", 5)),
          "lfoDelay" : float(d.get("delay", 0)),
          "vsens" : float(d.get("vsens", 0.1)),
          "vdepth" : float(d.get("vdepth", 0.0))}
    return rs

def _fill_envelope_params(op, d):
    def param(suffix):
        return "op%s%s" % (op, suffix)
    rs = {param("Attack") : float(d.get("attack", 0.0)),
          param("Decay1") : float(d.get("decay1", 0.0)),
          param("Decay2") : float(d.get("decay2", 0.0)),
          param("Release") : float(d.get("release", 0.0)),
          param("Breakpoint") : float(d.get("breakpoint", 1.0)),
          param("Sustain") : float(d.get("sustain", 1.0))}
    if d.get("env-cycle", False):
        cycle = 1
    else:
        cycle = 0
    rs[param("GateHold")] = cycle
    return rs

def _fill_common_op_params(op, d):
    def param(suffix):
        return "op%s%s" % (op, suffix)
    if d.get("enable", True):
        enable = 1
    else:
        enable = 0
    rs = {param("Enable") : enable,
          param("Ratio") : float(d.get("ratio", 1.0)),
          param("Bias") : float(d.get("bias", 0.0)),
          param("Keybreak") : int(d.get("break-key", 60)),
          param("LeftScale") : float(d.get("left-scale", 0)),
          param("RightScale") : float(d.get("right-scale", 0)),
          param("Lfo") : float(d.get("lfo", 0.0)),
          param("Velocity") : float(d.get("velocity", 0.0))}
    return rs
          
def _fill_op1_params(d):
    rs = _fill_common_op_params(1, d)
    rs.update(_fill_envelope_params(1, d))
    rs["amp"] = int(db_to_amp(d.get("amp", 0)))
    return rs

def _fill_op2_params(d):
    rs = _fill_common_op_params(2, d)
    rs.update(_fill_envelope_params(2, d))
    rs["op2Amp"] = float(d.get("amp", 1.0))
    rs["op2AmpRange"] = int(d.get("modRange", 1))
    rs["op2Feedback"] = float(d.get("feedback", 0.0))
    return rs

def _fill_efx(d):
    template = {"attack" : ("efxAttack", 0.0,"f"),
                "decay1" : ("efxDecay1", 0.0,"f"),
                "decay2" : ("efxDecay2", 0.0,"f"),
                "release" : ("efxRelease", 0.0,"f"),
                "breakPoinit" : ("efxBreakpoint", 1.0,"f"),
                "sustain" : ("efxSustain", 1.0,"f"),
                "env-cycle" : ("efxGateHold", 1,"i"),
                "lfo-ratio" : ("efxLfoRatio", 1.0,"f"),
                "flanger-delay" : ("flangerDelay", 0.02,"f"),
                "flanger-lfo-depth" : ("flangerLfoDepth", 0.0,"f"),
                "flanger-feedback" : ("flangerFeedback", 0.0,"f"),
                "ps-ratio" : ("psRatio", 2.0,"f"),
                "ps-pitch-dispersion" : ("psPDispersion", 0.0,"f"),
                "ps-time-dispersion" : ("psTDispersion", 0.0,"f"),
                "ps-lfo-depth" : ("psLfoDepth", 0.0,"f"),
                "efx-mix" : ("efxMix", 0.0,"f"),
                "efx-amp" : ("efxAmp", 0.0,"f")}
    rs = {}
    for arg,t in template.items():
        param,default,ptype = t
        if ptype == 'f':
            val = round(float(d.get(arg,default)),4)
        else:
            val = int(d.get(arg,default))
        rs[param] = val
    return rs


def fm2(slot, name, amp=-12, port=0.0,
        external = {"scale" : 1.0,
                    "bias" : 0.0,
                    "pitch" : 0.0,
                    "mod" : 0.0},
        lfo = {"freq" : 5.0,
               "delay" : 0.0,
               "vsens" : 0.1,
               "vdepth" : 0.0},
        efx = {"attack" : 0.00,
               "decay1" : 0.00,
               "decay2" : 0.00,
               "release" : 0.00,
               "breakPoinit" : 1.0,
               "sustain" : 1.0,
               "env-cycle" : False,
               "lfo-ratio" : 1.0,
               "flanger-delay" : 0.05,
               "flanger-feedback" : 0.0,
               "flanger-lfo-depth" : 0.0,
               "ps-ratio" : 2.0,
               "ps-pitch-dispersion" : 0.0,
               "ps-time-dispersion" : 0.0,
               "ps-lfo-depth" : 0.0,
               "efx-mix" : 0.0,
               "efx-amp" : 0.0},
        op1 = {"enable" : True,
               "ratio" : 1.0,
               "bias" : 0.0,
               "amp" : 0,  # in DB
               "attack" : 0.0,
               "decay1" : 0.0,
               "decay2" : 0.0,
               "release" : 0.0,
               "breakpoint" : 1.0,
               "sustain" : 1.0,
               "env-cycle" : False,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "lfo" : 0.0,
               "velocity" : 0.0},
        op2 = {"enable" : True,
               "ratio" : 1.0,
               "bias" : 0.0,
               "amp" : 0.0,    # modulation depth
               "modRange" : 1, # powers of 10
               "attack" : 0.0,
               "decay1" : 0.0,
               "decay2" : 0.0,
               "release" : 0.0,
               "breakpoint" : 1.0,
               "sustain" : 1.0,
               "env-cycle" : False,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "lfo" : 0.0,
               "velocity" : 0.0,
               "feedback" : 0.0}):
    p = FM2(name)
    p["amp"] = int(db_to_amp(amp))
    p["port"] = float(port)
    acc = _fill_external_params(external)
    acc.update(_fill_lfo_params(lfo))
    acc.update(_fill_efx(efx))
    acc.update(_fill_op1_params(op1))
    acc.update(_fill_op2_params(op2))
    for param,value in acc.items():
        p[param] = value
    program_bank[slot] = p
    return p

fm2(  0, "Brazos", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 5.660,
               "delay" : 3.417,
               "vsens" : 0.100,
               "vdepth" : 0.569},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 8.0000,
               "bias" : 0.0000,
               "attack" : 0.3129,
               "decay1" : 0.6317,
               "decay2" : 0.5482,
               "release" : 0.5345,
               "breakpoint" : 0.9664,
               "sustain" : 0.5484,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : -3,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 2.1342,
               "decay1" : 0.0599,
               "decay2" : 0.5264,
               "release" : 0.0394,
               "breakpoint" : 0.9485,
               "sustain" : 0.1755,
               "feedback" : 2.0200,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : -12,
               "env-cycle" : True})

fm2(  1, "Yukon", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 5.219,
               "delay" : 3.522,
               "vsens" : 0.100,
               "vdepth" : 0.000},
        efx = {"attack" : 2.7124,
               "decay1" : 3.0665,
               "decay2" : 0.8017,
               "release" : 0.0083,
               "breakPoint" : 1.0000,
               "sustain" : 0.4969,
               "lfo-ratio" : 0.3330,
               "flanger-delay" : 0.0425,
               "flanger-feedback" : 0.6200,
               "flanger-lfo-depth" : 0.2435,
               "ps-ratio" : 3.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : -1.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 16.0000,
               "bias" : 0.0000,
               "attack" : 0.4610,
               "decay1" : 0.7487,
               "decay2" : 0.8150,
               "release" : 3.9784,
               "breakpoint" : 0.6394,
               "sustain" : 0.3906,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 4.0000,
               "bias" : 0.8700,
               "amp" : 5.0000,
               "attack" : 0.8574,
               "decay1" : 3.3931,
               "decay2" : 3.5191,
               "release" : 0.0502,
               "breakpoint" : 0.7324,
               "sustain" : 0.0111,
               "feedback" : 1.3668,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2(  2, "Alsek", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 4.963,
               "delay" : 1.555,
               "vsens" : 0.100,
               "vdepth" : 0.249},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 4.0000,
               "bias" : 0.0000,
               "attack" : 0.3875,
               "decay1" : 0.3483,
               "decay2" : 0.2837,
               "release" : 0.2804,
               "breakpoint" : 0.9405,
               "sustain" : 0.9657,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : -3,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 10.0000,
               "bias" : 37.3300,
               "amp" : 5.0000,
               "attack" : 2.0403,
               "decay1" : 0.3054,
               "decay2" : 0.5513,
               "release" : 0.7926,
               "breakpoint" : 0.8495,
               "sustain" : 0.8495,
               "feedback" : 0.0000,
               "lfo" : 0.0000,
               "velocity" : 0.8191,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 3,
               "right-scale" : -12,
               "env-cycle" : True})

fm2(  3, "Schuylkill", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 6.128,
               "delay" : 3.102,
               "vsens" : 0.100,
               "vdepth" : 0.027},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "attack" : 1.9758,
               "decay1" : 3.0195,
               "decay2" : 2.3272,
               "release" : 0.6002,
               "breakpoint" : 0.9293,
               "sustain" : 0.2449,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : True},
        op2 = {"enable" : True,
               "ratio" : 1.4580,
               "bias" : 28.2800,
               "amp" : 5.0000,
               "attack" : 0.1161,
               "decay1" : 0.9514,
               "decay2" : 1.9395,
               "release" : 3.9660,
               "breakpoint" : 0.9475,
               "sustain" : 0.5224,
               "feedback" : 3.2400,
               "lfo" : 0.0553,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : True})

fm2(  4, "Embudo", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 6.658,
               "delay" : 3.174,
               "vsens" : 0.100,
               "vdepth" : 0.642},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "attack" : 0.0151,
               "decay1" : 1.8147,
               "decay2" : 0.6741,
               "release" : 3.5595,
               "breakpoint" : 0.9985,
               "sustain" : 0.4044,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 2.2500,
               "bias" : 0.6300,
               "amp" : 5.0000,
               "attack" : 1.2827,
               "decay1" : 3.2038,
               "decay2" : 0.4847,
               "release" : 0.9320,
               "breakpoint" : 0.9696,
               "sustain" : 0.1025,
               "feedback" : 0.0000,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2(  5, "Quesnel", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 4.289,
               "delay" : 2.120,
               "vsens" : 0.000,
               "vdepth" : 0.000},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "attack" : 1.1618,
               "decay1" : 0.1584,
               "decay2" : 0.4013,
               "release" : 0.8519,
               "breakpoint" : 0.9612,
               "sustain" : 0.8417,
               "lfo" : 0.0000,
               "velocity" : 0.0804,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 1.0000,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 0.1882,
               "decay1" : 0.7621,
               "decay2" : 0.0234,
               "release" : 0.8168,
               "breakpoint" : 0.9114,
               "sustain" : 0.9196,
               "feedback" : 0.0000,
               "lfo" : 0.1759,
               "velocity" : 0.1357,
               "modRange" : 1,
               "break-key" : 72,
               "left-scale" : 3,
               "right-scale" : -3,
               "env-cycle" : False})

fm2(  6, "Nechako", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 5.474,
               "delay" : 0.162,
               "vsens" : 0.100,
               "vdepth" : 0.212},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "attack" : 0.0185,
               "decay1" : 0.0532,
               "decay2" : 1.5461,
               "release" : 1.8632,
               "breakpoint" : 0.9929,
               "sustain" : 0.5666,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : -3,
               "amp" : 0,
               "env-cycle" : True},
        op2 = {"enable" : True,
               "ratio" : 1.9800,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 1.1546,
               "decay1" : 3.1670,
               "decay2" : 2.2445,
               "release" : 3.5135,
               "breakpoint" : 0.9097,
               "sustain" : 0.0334,
               "feedback" : 0.0000,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 48,
               "left-scale" : 6,
               "right-scale" : -6,
               "env-cycle" : True})

fm2(  7, "Liard", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 5.170,
               "delay" : 0.877,
               "vsens" : 0.100,
               "vdepth" : 0.329},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 0.1000,
               "attack" : 0.3374,
               "decay1" : 0.5771,
               "decay2" : 1.8619,
               "release" : 3.4654,
               "breakpoint" : 0.9835,
               "sustain" : 0.8373,
               "lfo" : 0.0000,
               "velocity" : 0.2362,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : True},
        op2 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 0.0182,
               "decay1" : 0.2515,
               "decay2" : 3.1474,
               "release" : 2.9873,
               "breakpoint" : 0.9735,
               "sustain" : 0.8671,
               "feedback" : 1.3000,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 3,
               "env-cycle" : True})

fm2(  8, "Athabasca", amp=3, port=0.020,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 6.905,
               "delay" : 1.940,
               "vsens" : 0.035,
               "vdepth" : 0.141},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 0.2800,
               "attack" : 0.2189,
               "decay1" : 1.6132,
               "decay2" : 0.7291,
               "release" : 0.7329,
               "breakpoint" : 0.9061,
               "sustain" : 0.5179,
               "lfo" : 0.0000,
               "velocity" : 0.3166,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 3,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 3.0000,
               "bias" : 0.0000,
               "amp" : 7.2500,
               "attack" : 0.0000,
               "decay1" : 0.1907,
               "decay2" : 0.4534,
               "release" : 0.4241,
               "breakpoint" : 0.5760,
               "sustain" : 0.3211,
               "feedback" : 0.0000,
               "lfo" : 0.0000,
               "velocity" : 0.3819,
               "modRange" : 1000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2(  9, "Cimarron", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 44.344,
               "delay" : 0.450,
               "vsens" : 0.100,
               "vdepth" : 0.370},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 0.2300,
               "attack" : 0.0434,
               "decay1" : 0.2581,
               "decay2" : 3.6478,
               "release" : 2.9182,
               "breakpoint" : 0.5265,
               "sustain" : 0.3083,
               "lfo" : 0.0000,
               "velocity" : 0.3568,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : -6,
               "amp" : 0,
               "env-cycle" : True},
        op2 = {"enable" : True,
               "ratio" : 6.0000,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 0.0126,
               "decay1" : 0.6525,
               "decay2" : 0.7737,
               "release" : 0.7901,
               "breakpoint" : 0.9471,
               "sustain" : 0.9076,
               "feedback" : 0.0000,
               "lfo" : 0.0000,
               "velocity" : 0.9749,
               "modRange" : 10000,
               "break-key" : 84,
               "left-scale" : 0,
               "right-scale" : -3,
               "env-cycle" : True})

fm2( 10, "Kanawha", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 5.529,
               "delay" : 1.380,
               "vsens" : 0.055,
               "vdepth" : 0.070},
        efx = {"attack" : 0.0000,
               "decay1" : 0.0000,
               "decay2" : 0.0000,
               "release" : 0.0000,
               "breakPoint" : 1.0000,
               "sustain" : 1.0000,
               "lfo-ratio" : 1.0000,
               "flanger-delay" : 0.0500,
               "flanger-feedback" : 0.0000,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.0000,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 0.8300,
               "attack" : 0.0634,
               "decay1" : 7.1194,
               "decay2" : 3.1006,
               "release" : 2.9182,
               "breakpoint" : 0.9198,
               "sustain" : 0.7417,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 4.0000,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 3.8411,
               "decay1" : 6.7465,
               "decay2" : 3.9130,
               "release" : 2.1887,
               "breakpoint" : 0.9203,
               "sustain" : 0.7608,
               "feedback" : 0.7200,
               "lfo" : 0.0000,
               "velocity" : 0.3166,
               "modRange" : 1000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2( 11, "Bad River", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 0.396,
               "delay" : 1.720,
               "vsens" : 0.096,
               "vdepth" : 0.000},
        efx = {"attack" : 2.7317,
               "decay1" : 6.8124,
               "decay2" : 0.9060,
               "release" : 7.0313,
               "breakPoint" : 1.0000,
               "sustain" : 0.5879,
               "lfo-ratio" : 0.1250,
               "flanger-delay" : 0.0338,
               "flanger-feedback" : -0.9100,
               "flanger-lfo-depth" : 0.1447,
               "ps-ratio" : 1.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.7108,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : -1.0000,
               "efx-amp" : 0.8551,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 3.0000,
               "bias" : 0.0000,
               "attack" : 1.3626,
               "decay1" : 6.6051,
               "decay2" : 7.6175,
               "release" : 4.4770,
               "breakpoint" : 0.9187,
               "sustain" : 0.6000,
               "lfo" : 0.1558,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 3.0000,
               "bias" : 0.0000,
               "amp" : 8.6490,
               "attack" : 6.2898,
               "decay1" : 0.4040,
               "decay2" : 0.6056,
               "release" : 3.5415,
               "breakpoint" : 0.9115,
               "sustain" : 0.7727,
               "feedback" : 1.5216,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 3,
               "right-scale" : -6,
               "env-cycle" : False})

fm2( 12, "Caddo", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 4.404,
               "delay" : 3.620,
               "vsens" : 0.100,
               "vdepth" : 0.096},
        efx = {"attack" : 0.1129,
               "decay1" : 0.3636,
               "decay2" : 0.0362,
               "release" : 0.9419,
               "breakPoint" : 1.0000,
               "sustain" : 0.7398,
               "lfo-ratio" : 3.0000,
               "flanger-delay" : 0.0152,
               "flanger-feedback" : 0.2800,
               "flanger-lfo-depth" : 0.0973,
               "ps-ratio" : 2.0100,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 1.0000,
               "efx-amp" : 0.2022,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 4.0000,
               "bias" : 0.0000,
               "attack" : 0.3920,
               "decay1" : 0.7191,
               "decay2" : 0.2356,
               "release" : 4.3482,
               "breakpoint" : 0.9012,
               "sustain" : 0.7443,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 1.9400,
               "amp" : 5.0000,
               "attack" : 0.4814,
               "decay1" : 0.2688,
               "decay2" : 0.3897,
               "release" : 0.2343,
               "breakpoint" : 0.9411,
               "sustain" : 0.7674,
               "feedback" : 0.1768,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2( 13, "Thin", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 2.438,
               "delay" : 0.840,
               "vsens" : 0.100,
               "vdepth" : 0.000},
        efx = {"attack" : 3.4078,
               "decay1" : 0.7404,
               "decay2" : 1.9378,
               "release" : 1.7916,
               "breakPoint" : 1.0000,
               "sustain" : 0.4583,
               "lfo-ratio" : 0.0625,
               "flanger-delay" : 0.0390,
               "flanger-feedback" : -0.9100,
               "flanger-lfo-depth" : 0.0867,
               "ps-ratio" : 1.5000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : -0.5700,
               "efx-amp" : 0.1188,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 2.5800,
               "attack" : 0.6528,
               "decay1" : 6.8033,
               "decay2" : 2.6060,
               "release" : 3.3552,
               "breakpoint" : 0.9457,
               "sustain" : 0.3667,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 2.9330,
               "bias" : 0.0000,
               "amp" : 8.1000,
               "attack" : 0.0414,
               "decay1" : 1.1929,
               "decay2" : 1.9378,
               "release" : 3.7441,
               "breakpoint" : 0.9635,
               "sustain" : 0.5750,
               "feedback" : 1.2277,
               "lfo" : 0.0000,
               "velocity" : 0.3266,
               "modRange" : 1000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2( 14, "Gila", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 6.063,
               "delay" : 2.440,
               "vsens" : 0.096,
               "vdepth" : 0.000},
        efx = {"attack" : 0.1044,
               "decay1" : 1.8953,
               "decay2" : 3.3386,
               "release" : 2.6456,
               "breakPoint" : 1.0000,
               "sustain" : 0.2828,
               "lfo-ratio" : 0.3330,
               "flanger-delay" : 0.0225,
               "flanger-feedback" : -0.1300,
               "flanger-lfo-depth" : 0.0000,
               "ps-ratio" : 1.9120,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : -0.1900,
               "efx-amp" : 0.0000,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 2.9100,
               "attack" : 0.1262,
               "decay1" : 2.3865,
               "decay2" : 1.2995,
               "release" : 1.2160,
               "breakpoint" : 0.9133,
               "sustain" : 0.8055,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 2.0000,
               "bias" : 0.0500,
               "amp" : 0.0490,
               "attack" : 2.5439,
               "decay1" : 1.2201,
               "decay2" : 2.8437,
               "release" : 1.6377,
               "breakpoint" : 0.9035,
               "sustain" : 0.0776,
               "feedback" : 0.0000,
               "lfo" : 0.8945,
               "velocity" : 0.0000,
               "modRange" : 10000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2( 15, "Inaja", amp=0, port=0.301,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 6.997,
               "delay" : 2.350,
               "vsens" : 0.100,
               "vdepth" : 0.000},
        efx = {"attack" : 0.3870,
               "decay1" : 0.7207,
               "decay2" : 0.8911,
               "release" : 0.4283,
               "breakPoint" : 1.0000,
               "sustain" : 0.6635,
               "lfo-ratio" : 0.7500,
               "flanger-delay" : 0.0323,
               "flanger-feedback" : -0.2600,
               "flanger-lfo-depth" : 0.1601,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.2980,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 1.0000,
               "efx-amp" : 0.0246,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.0000,
               "bias" : 2.7900,
               "attack" : 0.7482,
               "decay1" : 0.1285,
               "decay2" : 3.0069,
               "release" : 0.1846,
               "breakpoint" : 0.9826,
               "sustain" : 0.8167,
               "lfo" : 0.0000,
               "velocity" : 0.0000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 1.0000,
               "bias" : 1.1500,
               "amp" : 1.2960,
               "attack" : 2.0714,
               "decay1" : 1.2696,
               "decay2" : 4.8779,
               "release" : 0.2988,
               "breakpoint" : 0.9250,
               "sustain" : 0.8167,
               "feedback" : 1.2118,
               "lfo" : 0.0000,
               "velocity" : 0.3015,
               "modRange" : 1000,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})

fm2( 16, "Jamul", amp=0, port=0.000,
        external={"scale" : 1.000,
                  "bias" : 0.000,
                  "pitch" : 0.000,
                  "mod" : 0.000},
        lfo = {"freq" : 4.830,
               "delay" : 0.700,
               "vsens" : 0.096,
               "vdepth" : 0.784},
        efx = {"attack" : 0.4572,
               "decay1" : 0.2539,
               "decay2" : 0.2036,
               "release" : 0.0456,
               "breakPoint" : 1.0000,
               "sustain" : 0.3006,
               "lfo-ratio" : 0.3330,
               "flanger-delay" : 0.0152,
               "flanger-feedback" : -0.1100,
               "flanger-lfo-depth" : 0.2904,
               "ps-ratio" : 2.0000,
               "ps-pitch-dispersion" : 0.0000,
               "ps-time-dispersion" : 0.0000,
               "ps-lfo-depth" : 0.0000,
               "efx-mix" : 0.2900,
               "efx-amp" : 0.7737,
               "env-cycle" :  0},
        op1 = {"enable" : True,
               "ratio" : 0.5000,
               "bias" : 0.0000,
               "attack" : 0.0502,
               "decay1" : 0.9602,
               "decay2" : 2.4724,
               "release" : 0.8976,
               "breakpoint" : 0.9483,
               "sustain" : 0.1667,
               "lfo" : 0.0000,
               "velocity" : 0.3467,
               "break-key" : 60,
               "left-scale" : 3,
               "right-scale" : 0,
               "amp" : 0,
               "env-cycle" : False},
        op2 = {"enable" : True,
               "ratio" : 0.7500,
               "bias" : 0.0000,
               "amp" : 5.0000,
               "attack" : 0.0174,
               "decay1" : 0.5673,
               "decay2" : 0.1255,
               "release" : 0.9394,
               "breakpoint" : 0.9618,
               "sustain" : 0.9160,
               "feedback" : 1.9138,
               "lfo" : 0.0000,
               "velocity" : 0.4070,
               "modRange" : 1,
               "break-key" : 60,
               "left-scale" : 0,
               "right-scale" : 0,
               "env-cycle" : False})
